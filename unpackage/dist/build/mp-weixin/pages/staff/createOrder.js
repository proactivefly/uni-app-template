(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/staff/createOrder"],{"143b":function(t,e,n){"use strict";n.r(e);var o=n("660a"),r=n.n(o);for(var i in o)"default"!==i&&function(t){n.d(e,t,(function(){return o[t]}))}(i);e["default"]=r.a},"225a":function(t,e,n){"use strict";n.r(e);var o=n("fa7d"),r=n("143b");for(var i in r)"default"!==i&&function(t){n.d(e,t,(function(){return r[t]}))}(i);n("999c"),n("a979");var a,s=n("f0c5"),c=Object(s["a"])(r["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],a);e["default"]=c.exports},"660a":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{currentId:"dom0",fromType:0,carList:[],clientInfo:{},paramInfo:{memberId:"",memberName:"",memberMobile:"",isVol:0,orderList:""},btnDisabled:!1,orderList:[]}},methods:{carChange:function(t,e){var n=t.detail.value;e.carIdx=n,e.carTypeId=this.carList[n].id,e.carTypeName=this.carList[n].name},tel:function(e){t.showModal({title:"提示",content:"是否确认拨打电话",success:function(n){n.confirm&&t.makePhoneCall({phoneNumber:e})}})},add:function(){this.orderList.push({carTypeId:null,carTypeName:null,store4sId:null,store4sName:null,inquiryInfo:null,carIdx:null,animationType:1}),this.currentId="dom"+(this.orderList.length-1)},deleteItem:function(e,n){var o=this;t.showModal({title:"提示？",content:"是否删除第".concat(n+1,"条购车意向？"),success:function(t){t.confirm&&(e.animationType=2,setTimeout((function(){o.orderList.splice(n,1)}),500))}})},clearValue:function(t,e){1==e?(t.carTypeId=null,t.carTypeName=null,t.carIdx=null):2==e?(t.store4sId=null,t.store4sName=null):t.inquiryInfo=null},goSelectShop:function(t,e){t.orderId||this.perfectNavigateTo({url:"/pages/fourShop/fourShop?fromPage=1&idx="+e})},changeVol:function(t){0==this.fromType&&(this.paramInfo.isVol=t)},getCarList:function(){var e=this;this.request("/cartype/spinner").then((function(n){0==n.resultCode?e.carList=n.data:t.showToast({title:n.resultMsg?n.resultMsg:"网络异常,请稍后重试",icon:"none"})}))},back:function(){t.showModal({title:"提示",cancelText:"再看看",confirmText:"放弃",content:"是否放弃本次编辑？",success:function(e){e.confirm&&t.navigateBack({delta:1})}})},pageInit:function(){this.getCarList()},createOrder:function(){var e=this;if(this.paramInfo.memberMobile){for(var n=0;n<this.orderList.length;n++)if(this.orderList[n].store4sName||this.orderList[n].carTypeName||this.orderList[n].inquiryInfo){if(!this.orderList[n].store4sName)return void t.showToast({title:"请选择第".concat(n+1,"条购买意向的4S店"),icon:"none"});if(!this.orderList[n].carTypeName)return void t.showToast({title:"请选择第".concat(n+1,"条购买意向的车型"),icon:"none"});if(!this.orderList[n].inquiryInfo)return void t.showToast({title:"请选择第".concat(n+1,"条购买意向的询价情况"),icon:"none"})}var o,r=[];this.orderList.forEach((function(t){!t.orderId&&t.carTypeName&&t.store4sName&&t.inquiryInfo&&r.push(t)})),this.paramInfo.orderList=JSON.stringify(r),o=0==this.fromType?"/order/staff/member/bindAddIntention":"/order/staff/member/addIntention",this.btnDisabled=!0,this.request(o,this.paramInfo).then((function(n){0==n.resultCode?t.showModal({title:"提示",content:n.data,showCancel:!1,success:function(e){e.confirm&&t.navigateBack({delta:1})}}):(t.showToast({title:n.resultMsg?n.resultMsg:"网络异常,请稍后重试",icon:"none"}),e.btnDisabled=!1)})).catch((function(t){e.btnDisabled=!1}))}else t.showToast({title:"请输入手机号",icon:"none"})},getCustomOrderList:function(){var e=this;this.request("/order/member/orders",{memberId:this.paramInfo.memberId}).then((function(n){0==n.resultCode?(e.orderList=n.data.orderList,e.paramInfo.memberMobile=n.data.memberMobile,e.paramInfo.isVol=n.data.isVol):t.showToast({title:n.resultMsg?n.resultMsg:"网络异常,请稍后重试",icon:"none"})}))}},onLoad:function(t){this.clientInfo=JSON.parse(t.info),this.fromType=t.fromType,this.paramInfo.memberId=this.clientInfo.userId,this.paramInfo.memberName=this.clientInfo.name,this.pageInit(),1==this.fromType&&this.getCustomOrderList()},onShareAppMessage:function(){return{title:"卫蓝购",path:"/pages/infomation/index",imageUrl:"/static/share.png"}}};e.default=n}).call(this,n("543d")["default"])},"81cb":function(t,e,n){"use strict";(function(t){n("f318");o(n("66fd"));var e=o(n("225a"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},"8d41":function(t,e,n){},"999c":function(t,e,n){"use strict";var o=n("ced4"),r=n.n(o);r.a},a979:function(t,e,n){"use strict";var o=n("8d41"),r=n.n(o);r.a},ced4:function(t,e,n){},fa7d:function(t,e,n){"use strict";var o,r=function(){var t=this,e=t.$createElement;t._self._c;t._isMounted||(t.e0=function(e){1==t.fromType&&t.tel(t.paramInfo.memberMobile)})},i=[];n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o}))}},[["81cb","common/runtime","common/vendor"]]]);